"use strict";(self.webpackChunkBloxcrossFrontend=self.webpackChunkBloxcrossFrontend||[]).push([[971],{7971:(j,_,d)=>{d.r(_),d.d(_,{PaymentMethodsModule:()=>U});var g=d(6895),h=d(9132),l=d(5861),c=d(5938),v=d(727),u=d(1708),y=d(915),p=d(2241),t=d(4650),b=d(3607),m=d(3081);function C(o,r){if(1&o&&(t.TgZ(0,"div")(1,"p",12),t._uU(2),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.hij("********",n.data.last_four,"")}}let M=(()=>{class o{constructor(n,e,s,i){this.manage_data=n,this.dialogRef=e,this.translate=s,this.dialog=i,this.title="",this.subscription=new v.w0}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){var n=this;this.subscription.add(this.manage_data.getSubject(p.Q.FundsOption.toString()).subscribe(function(){var e=(0,l.Z)(function*(s){n.data=s,"in"==n.data.direction?n.title=yield n.translate.get("funds.fundsIn").toPromise():"out"==n.data.direction&&(n.title=yield n.translate.get("funds.fundsOut").toPromise())});return function(s){return e.apply(this,arguments)}}()))}ConfirmDelete(){var n=this;return(0,l.Z)(function*(){const e=new c.vA;e.autoFocus=!1,e.disableClose=!0,e.width="40rem";var s={title:yield n.translate.get("dialog.deletePaymentMethod").toPromise(),icon:"delet",conten:yield n.translate.get("dialog.sureDeletePayment").toPromise()};n.manage_data.emitEvent(p.Q.ConfirmAction.toString(),s);let i=n.dialog.open(y.S,e);n.subscription.add(i.afterClosed().subscribe(a=>{a==u.d.si.toString()&&n.Delete()}))})()}Delete(){this.dialogRef.close(u.d.delete.toString())}Default(){this.dialogRef.close(u.d.default.toString())}Close(){this.dialogRef.close()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(b.A),t.Y36(c.so),t.Y36(m.sK),t.Y36(c.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-funds-options"]],decls:28,vars:12,consts:[[1,"box"],[1,"row"],[1,"row","text-center",2,"margin-top","5%"],[1,"col"],[1,"textprice","h2"],[1,"textprice","h4"],[4,"ngIf"],[1,"row","justify-content-center",2,"margin-top","5%"],[1,"col-xl-4","col-md-4","text-center","mt-1","mb-1"],["type","button",1,"btn","btn-success","texbot",3,"click"],["type","button",1,"btn","btn-outline-danger","texbot",3,"click"],["type","button",1,"btn","btn-outline-success","texbot",3,"click"],[2,"color","rgb(255, 136, 0)","margin-top","5px","font-size","20px"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4)(5,"strong"),t._uU(6),t.qZA()()()()()(),t.TgZ(7,"div",0)(8,"div",1)(9,"div",2)(10,"div",3)(11,"p",5),t._uU(12),t.qZA(),t.YNc(13,C,3,1,"div",6),t.qZA()()()(),t.TgZ(14,"div",0)(15,"div",7)(16,"div",8)(17,"button",9),t.NdJ("click",function(){return e.Default()}),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",8)(21,"button",10),t.NdJ("click",function(){return e.ConfirmDelete()}),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"div",8)(25,"button",11),t.NdJ("click",function(){return e.Close()}),t._uU(26),t.ALo(27,"translate"),t.qZA()()()()),2&n&&(t.xp6(6),t.Oqu(e.title),t.xp6(6),t.Oqu(e.data.name),t.xp6(1),t.Q6J("ngIf",null!=e.data.last_four),t.xp6(5),t.Oqu(t.lcZ(19,6,"funds.setDefault")),t.xp6(4),t.Oqu(t.lcZ(23,8,"funds.delete")),t.xp6(4),t.Oqu(t.lcZ(27,10,"general.cancel")))},dependencies:[g.O5,m.X$]}),o})();var O=d(9649),P=d(1084);function Z(o,r){if(1&o&&(t.TgZ(0,"div")(1,"li",19),t._uU(2),t.qZA()()),2&o){const n=t.oxw().$implicit;t.xp6(2),t.hij("********",n.last_four,"")}}function w(o,r){1&o&&(t.TgZ(0,"div")(1,"li",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"funds.default")))}function F(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const i=t.CHM(n).$implicit,a=t.oxw(2);return t.KtG(a.Details(i,"in"))}),t.TgZ(1,"div",15)(2,"label",16),t._uU(3),t.qZA()(),t.TgZ(4,"div",17)(5,"ul",18),t.YNc(6,Z,3,1,"div",0),t.YNc(7,w,4,3,"div",0),t.qZA()()()}if(2&o){const n=r.$implicit;t.xp6(3),t.Oqu(n.name),t.xp6(3),t.Q6J("ngIf",null!=n.last_four),t.xp6(1),t.Q6J("ngIf",1==n.default_method)}}function A(o,r){if(1&o&&(t.TgZ(0,"div")(1,"li",19),t._uU(2),t.qZA()()),2&o){const n=t.oxw().$implicit;t.xp6(2),t.hij("********",n.last_four,"")}}function T(o,r){1&o&&(t.TgZ(0,"div")(1,"li",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"funds.default")))}function k(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const i=t.CHM(n).$implicit,a=t.oxw(2);return t.KtG(a.Details(i,"out"))}),t.TgZ(1,"div",15)(2,"label",16),t._uU(3),t.qZA()(),t.TgZ(4,"div",17)(5,"ul",18),t.YNc(6,A,3,1,"div",0),t.YNc(7,T,4,3,"div",0),t.qZA()()()}if(2&o){const n=r.$implicit;t.xp6(3),t.Oqu(n.name),t.xp6(3),t.Q6J("ngIf",null!=n.last_four),t.xp6(1),t.Q6J("ngIf",1==n.default_method)}}function D(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()()(),t.TgZ(7,"div",5)(8,"div",2)(9,"div",6)(10,"h2",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div")(14,"div",8),t.YNc(15,F,8,3,"div",9),t.qZA()()(),t.TgZ(16,"div",6)(17,"h2",7),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div")(21,"div",8),t.YNc(22,k,8,3,"div",10),t.qZA()()()(),t.TgZ(23,"div",11)(24,"div",12)(25,"button",13),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.AddPaymentMethods())}),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"hr"),t.qZA()()()()}if(2&o){const n=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,6,"settings.fundsIn/Out")),t.xp6(6),t.Oqu(t.lcZ(12,8,"funds.fundsIn")),t.xp6(4),t.Q6J("ngForOf",n.fundsIn),t.xp6(3),t.Oqu(t.lcZ(19,10,"funds.fundsOut")),t.xp6(4),t.Q6J("ngForOf",n.fundsOut),t.xp6(4),t.Oqu(t.lcZ(27,12,"settings.addPaymentMethod"))}}const I=[{path:"",component:(()=>{class o{constructor(n,e,s,i,a){this.translate=n,this.dialog=e,this.payments_service=s,this.router=i,this.manage_data=a,this.fundsIn=[],this.fundsOut=[],this.menu=!1,this.main=!0,this.subscription=new v.w0}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.FoundsMethods()}FoundsMethods(){var n=this;return(0,l.Z)(function*(){n.fundsIn=yield n.GetFoundsInMethods().then(e=>e),n.fundsOut=yield n.GetFoundsOutMethods().then(e=>e),console.log("Metodos de retiro",n.fundsOut),console.log("Metodos de deposito",n.fundsIn)})()}FundsMenu(n,e){this.found_data=n,this.direction=e,("in"==this.direction||"out"==this.direction)&&(this.menu=!0,this.main=!1)}Details(n,e){var s=this;return(0,l.Z)(function*(){n.direction=e,n.action="Add";const i=new c.vA;i.autoFocus=!1,i.disableClose=!0,i.width="40rem",s.manage_data.emitEvent(p.Q.FundsOption.toString(),n);let a=s.dialog.open(M,i);s.subscription.add(a.afterClosed().subscribe(f=>{f==u.d.delete.toString()?s.Delete(n):f==u.d.default.toString()&&s.Default(n,e)}))})()}Delete(n){var e=this;return(0,l.Z)(function*(){const s={client_payment_method_id:n.client_payment_method_id};var i=yield e.DeleteClientPaymentMethod(s).then(a=>a);console.log("Response",i),e.FoundsMethods(),e.Back()})()}Default(n,e){var s=this;return(0,l.Z)(function*(){const i={client_payment_method_id:n.client_payment_method_id,direction:e};var a=yield s.SetDefaultPaymentMethod(i).then(f=>f);s.FoundsMethods(),s.Back(),console.log("Response",a)})()}Back(){this.menu=!1,this.main=!0}AddPaymentMethods(){const n=new c.vA;n.autoFocus=!1,n.disableClose=!0,n.width="95vw",n.maxWidth="100vw",this.manage_data.emitEvent(p.Q.ActionPaymentMethods.toString(),{action:"Add"});let s=this.dialog.open(O.a,n);this.subscription.add(s.afterClosed().subscribe(()=>{this.FoundsMethods()}))}GetFoundsInMethods(){const n={direction:"in"};return new Promise((e,s)=>{this.subscription.add(this.payments_service.GetClientPaymentMethods(n).subscribe(i=>e(i),i=>{console.warn("Error",i),e(null)}))})}GetFoundsOutMethods(){const n={direction:"out"};return new Promise((e,s)=>{this.subscription.add(this.payments_service.GetClientPaymentMethods(n).subscribe(i=>e(i),i=>{console.warn("Error",i),e(null)}))})}DeleteClientPaymentMethod(n){return new Promise((e,s)=>{this.subscription.add(this.payments_service.DeleteClientPaymentMethod(n).subscribe(i=>e(i),i=>{console.warn("Error",i),e(null)}))})}SetDefaultPaymentMethod(n){return new Promise((e,s)=>{this.subscription.add(this.payments_service.SetDefaultPaymentMethod(n).subscribe(i=>e(i),i=>{console.warn("Error",i),e(null)}))})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(m.sK),t.Y36(c.uw),t.Y36(P.t),t.Y36(h.F0),t.Y36(b.A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-funds"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"container","text-center","shadow",2,"margin-top","1%"],[1,"row"],[1,"col"],[1,"styletitel"],[1,"container","shadow",2,"margin-top","1%"],[1,"col-md-6","text-center"],[1,"texItem"],[1,"scroll"],["class","row asset-list-item ","style","cursor: pointer; min-height: 100px;",3,"click",4,"ngFor","ngForOf"],["class","row asset-list-item ","style"," cursor: pointer; min-height: 100px",3,"click",4,"ngFor","ngForOf"],[1,"row","text-center","mt-3"],[1,"col-12"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"row","asset-list-item",2,"cursor","pointer","min-height","100px",3,"click"],[1,"col-md-5","col-5","text-start"],[1,"texItem",2,"cursor","pointer"],[1,"col-md-7","col-7","text-end"],[1,"listpoint","my-auto"],[2,"font-size","15px","padding","10px","color","rgb(19, 224, 0)"],[2,"font-size","15px","padding","10px","color","rgb(255, 5, 5)"]],template:function(n,e){1&n&&t.YNc(0,D,29,14,"div",0),2&n&&t.Q6J("ngIf",e.main)},dependencies:[g.sg,g.O5,m.X$],styles:[".search-bar[_ngcontent-%COMP%]{background-color:#d5e0d8}.assets-tabs[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;margin:1rem;border-radius:.6rem;background:#cecccc;color:#b60000}.asset-list-item[_ngcontent-%COMP%]{margin:.5em 0;width:100%;justify-content:flex-start;align-items:center;max-height:12vh;background:var(--bg-item-assets)}button[_ngcontent-%COMP%]{padding:.5rem 1.5rem;min-width:1rem}.assets-easy-page[_ngcontent-%COMP%]{height:100%;padding-top:2rem;background-size:10px;color:#837272;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}figure[_ngcontent-%COMP%]{margin-bottom:.2rem}figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5rem}h2.title[_ngcontent-%COMP%]{margin:.5rem;font-size:1rem;color:#4d4d4d}span.amount[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:2rem;font-weight:700;border-radius:1.5rem;padding:5px 2rem;z-index:2}.asset-container[_ngcontent-%COMP%]{background-color:#fafafa;border-radius:2rem 2rem 0 0;display:flex;flex-direction:column;justify-content:center;padding:3rem 1rem 1rem;position:relative;top:-1.5rem;width:100%;z-index:1;height:100%;font-size:.8rem;justify-content:flex-start}.buy-sell-message[_ngcontent-%COMP%]{margin:1rem;color:#4d4d4d;display:flex;justify-content:center;align-items:center}.buy-sell-message.green[_ngcontent-%COMP%]{color:green}.buy-sell-message.red[_ngcontent-%COMP%]{color:red}.buy-sell-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.4rem}.send-button[_ngcontent-%COMP%]{margin:1rem auto}.summary[_ngcontent-%COMP%]{padding:1rem;border:solid 1px #2bba4a;border-radius:1rem}.summary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem}.summary-item[_ngcontent-%COMP%]{color:#000;margin-top:1rem;display:flex;flex-direction:column;justify-content:center}.total[_ngcontent-%COMP%]{font-size:2rem}.listpoint[_ngcontent-%COMP%]{list-style:none}*[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgb(26,26,26) rgba(255,166,0,0)}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(255,166,0,0)}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--table-scroll);border-radius:20px;border:3px solid var(--table-scroll)}.texItem[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:var(--tx-funds)}.styletitel[_ngcontent-%COMP%]{margin-top:1%;color:#2bba4a;font-size:20px;font-weight:bolder}.textprice[_ngcontent-%COMP%]{color:#3abb35}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 2rem var(--shadown-color)!important}.scroll[_ngcontent-%COMP%]{max-height:25vh;overflow-x:hidden;overflow-y:scroll}@media (min-width: 600px){.scroll[_ngcontent-%COMP%]{max-height:54vh;overflow-x:hidden;overflow-y:scroll}}"]}),o})()}];let q=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(I),h.Bz]}),o})();var x=d(4006);let U=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,q,m.aw.forChild(),x.u5,x.UX]}),o})()}}]);